{"ast":null,"code":"import{Button,Form,Input,message,Modal}from\"antd\";import React,{useState}from\"react\";import{LockOutlined,UserOutlined}from\"@ant-design/icons\";import{login}from\"../utils\";// const { onSuccess } = props;\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Login(_ref){let{onSuccess}=_ref;const[displayModal,setDisplayModal]=useState(false);// 关\nconst handleCancel=()=>{setDisplayModal(false);};// 开\nconst signinOnClick=()=>{setDisplayModal(true);};const onFinish=data=>{login(data).then(()=>{setDisplayModal(false);message.success(`Welcome back`);onSuccess();}).catch(err=>{message.error(err.message);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{shape:\"round\",onClick:signinOnClick,style:{marginRight:\"20px\"},children:\"Login\"}),/*#__PURE__*/_jsx(Modal,{title:\"Log in\",visible:displayModal,onCancel:handleCancel,footer:null,destroyOnClose:true,children:/*#__PURE__*/_jsxs(Form,{name:\"normal_login\",onFinish:onFinish,preserve:false,children:[/*#__PURE__*/_jsx(Form.Item,{name:\"username\",rules:[{required:true,message:\"Please input your Username!\"}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(UserOutlined,{}),placeholder:\"Username\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",rules:[{required:true,message:\"Please input your Password!\"}],children:/*#__PURE__*/_jsx(Input.Password,{prefix:/*#__PURE__*/_jsx(LockOutlined,{}),placeholder:\"Password\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"Login\"})})]})})]});}export default Login;","map":{"version":3,"names":["Button","Form","Input","message","Modal","React","useState","LockOutlined","UserOutlined","login","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_ref","onSuccess","displayModal","setDisplayModal","handleCancel","signinOnClick","onFinish","data","then","success","catch","err","error","children","shape","onClick","style","marginRight","title","visible","onCancel","footer","destroyOnClose","name","preserve","Item","rules","required","prefix","placeholder","Password","type","htmlType"],"sources":["/Users/dangeboer/Desktop/ProjectClass/Twitch/my-app/src/components/Login.js"],"sourcesContent":["import { Button, Form, Input, message, Modal } from \"antd\";\nimport React, { useState } from \"react\";\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\nimport { login } from \"../utils\";\n\n// const { onSuccess } = props;\nfunction Login({ onSuccess }) {\n  const [displayModal, setDisplayModal] = useState(false);\n\n  // 关\n  const handleCancel = () => {\n    setDisplayModal(false);\n  };\n\n  // 开\n  const signinOnClick = () => {\n    setDisplayModal(true);\n  };\n\n  const onFinish = (data) => {\n    login(data)\n      .then(() => {\n        setDisplayModal(false);\n        message.success(`Welcome back`);\n        onSuccess();\n      })\n      .catch((err) => {\n        message.error(err.message);\n      });\n  };\n\n  return (\n    <>\n      <Button\n        shape=\"round\"\n        onClick={signinOnClick}\n        style={{ marginRight: \"20px\" }}\n      >\n        Login\n      </Button>\n      <Modal\n        title=\"Log in\"\n        visible={displayModal}\n        onCancel={handleCancel}\n        footer={null}\n        destroyOnClose={true}\n      >\n        <Form name=\"normal_login\" onFinish={onFinish} preserve={false}>\n          <Form.Item\n            name=\"username\"\n            rules={[{ required: true, message: \"Please input your Username!\" }]}\n          >\n            <Input prefix={<UserOutlined />} placeholder=\"Username\" />\n          </Form.Item>\n          <Form.Item\n            name=\"password\"\n            rules={[{ required: true, message: \"Please input your Password!\" }]}\n          >\n            <Input.Password prefix={<LockOutlined />} placeholder=\"Password\" />\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              Login\n            </Button>\n          </Form.Item>\n        </Form>\n      </Modal>\n    </>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}