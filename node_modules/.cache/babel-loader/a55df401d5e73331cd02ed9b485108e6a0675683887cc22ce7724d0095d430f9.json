{"ast":null,"code":"import React from\"react\";import{Button,Card,List,message,Tabs,Tooltip}from\"antd\";import{StarOutlined,StarFilled}from\"@ant-design/icons\";import{addFavoriteItem,deleteFavoriteItem}from\"../utils\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const{TabPane}=Tabs;const tabKeys={Streams:\"stream\",Videos:\"videos\",Clips:\"clips\"};const processUrl=url=>url.replace(\"%{height}\",\"252\").replace(\"%{width}\",\"480\").replace(\"{height}\",\"252\").replace(\"{width}\",\"480\");const renderCardTitle=function(item,loggedIn){let favs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];let favOnChange=arguments.length>3?arguments[3]:undefined;const title=`${item.broadcaster_name} - ${item.title}`;const isFav=favs.find(fav=>fav.twitch_id===item.twitch_id);const favOnClick=()=>{if(isFav){deleteFavoriteItem(item).then(()=>{favOnChange();}).catch(err=>{message.error(err.message);});return;}addFavoriteItem(item).then(()=>{favOnChange();}).catch(err=>{message.error(err.message);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[loggedIn&&/*#__PURE__*/_jsx(Tooltip,{title:isFav?\"Remove from favorite list\":\"Add to favorite list\",children:/*#__PURE__*/_jsx(Button,{shape:\"circle\",icon:isFav?/*#__PURE__*/_jsx(StarFilled,{}):/*#__PURE__*/_jsx(StarOutlined,{}),onClick:favOnClick})}),/*#__PURE__*/_jsx(\"div\",{style:{overflow:\"hidden\",textOverflow:\"ellipsis\",width:450},children:/*#__PURE__*/_jsx(Tooltip,{title:title,children:/*#__PURE__*/_jsx(\"span\",{children:title})})})]});};const renderCardGrid=(data,loggedIn,favs,favOnChange)=>{return/*#__PURE__*/_jsx(List,{grid:{xs:1,sm:2,md:4,lg:4,xl:3},dataSource:data,renderItem:item=>/*#__PURE__*/_jsx(List.Item,{style:{marginRight:\"10px\"},children:/*#__PURE__*/_jsx(Card,{title:renderCardTitle(item,loggedIn,favs,favOnChange),children:/*#__PURE__*/_jsx(\"a\",{href:item.url,target:\"_blank\",rel:\"noopener noreferrer\",style:{width:\"100%\",height:\"100%\"},children:/*#__PURE__*/_jsx(\"img\",{alt:\"Placeholder\",src:processUrl(item.thumbnail_url),style:{width:\"100%\",height:\"100%\"}})})})})});};const Home=_ref=>{let{resources,loggedIn,favoriteItems,favoriteOnChange}=_ref;const{videos,streams,clips}=resources;const{videos:favVideos,streams:favStreams,clips:favClips}=favoriteItems;return/*#__PURE__*/_jsxs(Tabs,{defaultActiveKey:tabKeys.Streams,children:[/*#__PURE__*/_jsx(TabPane,{tab:\"Streams\",forceRender:true,children:renderCardGrid(streams,loggedIn,favStreams,favoriteOnChange)},tabKeys.Streams),/*#__PURE__*/_jsx(TabPane,{tab:\"Videos\",forceRender:true,children:renderCardGrid(videos,loggedIn,favVideos,favoriteOnChange)},tabKeys.Videos),/*#__PURE__*/_jsx(TabPane,{tab:\"Clips\",forceRender:true,children:renderCardGrid(clips,loggedIn,favClips,favoriteOnChange)},tabKeys.Clips)]});};export default Home;","map":{"version":3,"names":["React","Button","Card","List","message","Tabs","Tooltip","StarOutlined","StarFilled","addFavoriteItem","deleteFavoriteItem","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","TabPane","tabKeys","Streams","Videos","Clips","processUrl","url","replace","renderCardTitle","item","loggedIn","favs","arguments","length","undefined","favOnChange","title","broadcaster_name","isFav","find","fav","twitch_id","favOnClick","then","catch","err","error","children","shape","icon","onClick","style","overflow","textOverflow","width","renderCardGrid","data","grid","xs","sm","md","lg","xl","dataSource","renderItem","Item","marginRight","href","target","rel","height","alt","src","thumbnail_url","Home","_ref","resources","favoriteItems","favoriteOnChange","videos","streams","clips","favVideos","favStreams","favClips","defaultActiveKey","tab","forceRender"],"sources":["/Users/dangeboer/Desktop/ProjectClass/Twitch/my-app/src/components/Home.js"],"sourcesContent":["import React from \"react\";\nimport { Button, Card, List, message, Tabs, Tooltip } from \"antd\";\nimport { StarOutlined, StarFilled } from \"@ant-design/icons\";\nimport { addFavoriteItem, deleteFavoriteItem } from \"../utils\";\n\nconst { TabPane } = Tabs;\nconst tabKeys = {\n  Streams: \"stream\",\n  Videos: \"videos\",\n  Clips: \"clips\",\n};\n\nconst processUrl = (url) =>\n  url\n    .replace(\"%{height}\", \"252\")\n    .replace(\"%{width}\", \"480\")\n    .replace(\"{height}\", \"252\")\n    .replace(\"{width}\", \"480\");\n\nconst renderCardTitle = (item, loggedIn, favs = [], favOnChange) => {\n  const title = `${item.broadcaster_name} - ${item.title}`;\n\n  const isFav = favs.find((fav) => fav.twitch_id === item.twitch_id);\n\n  const favOnClick = () => {\n    if (isFav) {\n      deleteFavoriteItem(item)\n        .then(() => {\n          favOnChange();\n        })\n        .catch((err) => {\n          message.error(err.message);\n        });\n\n      return;\n    }\n\n    addFavoriteItem(item)\n      .then(() => {\n        favOnChange();\n      })\n      .catch((err) => {\n        message.error(err.message);\n      });\n  };\n\n  return (\n    <>\n      {loggedIn && (\n        <Tooltip\n          title={isFav ? \"Remove from favorite list\" : \"Add to favorite list\"}\n        >\n          <Button\n            shape=\"circle\"\n            icon={isFav ? <StarFilled /> : <StarOutlined />}\n            onClick={favOnClick}\n          />\n        </Tooltip>\n      )}\n      <div style={{ overflow: \"hidden\", textOverflow: \"ellipsis\", width: 450 }}>\n        <Tooltip title={title}>\n          <span>{title}</span>\n        </Tooltip>\n      </div>\n    </>\n  );\n};\n\nconst renderCardGrid = (data, loggedIn, favs, favOnChange) => {\n  return (\n    <List\n      grid={{\n        xs: 1,\n        sm: 2,\n        md: 4,\n        lg: 4,\n        xl: 3,\n      }}\n      dataSource={data}\n      renderItem={(item) => (\n        <List.Item style={{ marginRight: \"10px\" }}>\n          <Card title={renderCardTitle(item, loggedIn, favs, favOnChange)}>\n            <a\n              href={item.url}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              style={{ width: \"100%\", height: \"100%\" }}\n            >\n              <img\n                alt=\"Placeholder\"\n                src={processUrl(item.thumbnail_url)}\n                style={{ width: \"100%\", height: \"100%\" }}\n              />\n            </a>\n          </Card>\n        </List.Item>\n      )}\n    />\n  );\n};\n\nconst Home = ({ resources, loggedIn, favoriteItems, favoriteOnChange }) => {\n  const { videos, streams, clips } = resources;\n  const {\n    videos: favVideos,\n    streams: favStreams,\n    clips: favClips,\n  } = favoriteItems;\n\n  return (\n    <Tabs defaultActiveKey={tabKeys.Streams}>\n      <TabPane tab=\"Streams\" key={tabKeys.Streams} forceRender={true}>\n        {renderCardGrid(streams, loggedIn, favStreams, favoriteOnChange)}\n      </TabPane>\n      <TabPane tab=\"Videos\" key={tabKeys.Videos} forceRender={true}>\n        {renderCardGrid(videos, loggedIn, favVideos, favoriteOnChange)}\n      </TabPane>\n      <TabPane tab=\"Clips\" key={tabKeys.Clips} forceRender={true}>\n        {renderCardGrid(clips, loggedIn, favClips, favoriteOnChange)}\n      </TabPane>\n    </Tabs>\n  );\n};\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}