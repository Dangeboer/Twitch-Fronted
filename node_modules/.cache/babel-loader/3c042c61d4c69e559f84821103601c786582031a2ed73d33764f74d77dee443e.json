{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Layout,message,Menu}from\"antd\";import{LikeOutlined,FireOutlined}from\"@ant-design/icons\";import{logout,getFavoriteItem,getTopGames,searchGameById,getRecommendations}from\"./utils\";import PageHeader from\"./components/PageHeader\";import CustomSearch from\"./components/CustomSearch\";import Home from\"./components/Home\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Header,Content,Sider}=Layout;function App(){const[loggedIn,setLoggedIn]=useState(false);const[favoriteItems,setFavoriteItems]=useState([]);const[topGames,setTopGames]=useState([]);const[resources,setResources]=useState({videos:[],streams:[],clips:[]});useEffect(()=>{getTopGames().then(data=>{setTopGames(data);}).catch(err=>{message.error(err.message);});},[]);const signinOnSuccess=()=>{setLoggedIn(true);getFavoriteItem().then(data=>{setFavoriteItems(data);});};const signoutOnClick=()=>{logout().then(()=>{setLoggedIn(false);message.success(\"Successfully Signed out\");}).catch(err=>{message.error(err.message);});};const customSearchOnSuccess=data=>{setResources(data);};const onGameSelect=_ref=>{let{key}=_ref;if(key===\"recommendation\"){getRecommendations().then(data=>{setResources(data);});return;}searchGameById(key).then(data=>{setResources(data);});};const favoriteOnChange=()=>{getFavoriteItem().then(data=>{setFavoriteItems(data);}).catch(err=>{message.error(err.message);});};const mapTopGamesToProps=topGames=>[{label:\"Recommend for you!\",key:\"recommendation\",icon:/*#__PURE__*/_jsx(LikeOutlined,{})},{label:\"Popular Games\",key:\"popular_games\",icon:/*#__PURE__*/_jsx(FireOutlined,{}),children:topGames.map(game=>({label:game.name,key:game.id,icon:/*#__PURE__*/_jsx(\"img\",{alt:\"placeholder\",src:game.box_art_url.replace(\"{height}\",\"40\").replace(\"{width}\",\"40\"),style:{borderRadius:\"50%\",marginRight:\"20px\"}})}))}];return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsx(PageHeader,{loggedIn:loggedIn,signoutOnClick:signoutOnClick,signinOnSuccess:signinOnSuccess,favoriteItems:favoriteItems})}),/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(Sider,{width:300,className:\"site-layout-background\",children:[/*#__PURE__*/_jsx(CustomSearch,{onSuccess:customSearchOnSuccess}),/*#__PURE__*/_jsx(Menu,{mode:\"inline\",onSelect:onGameSelect,style:{marginTop:\"10px\"},items:mapTopGamesToProps(topGames)})]}),/*#__PURE__*/_jsx(Layout,{style:{padding:\"24px\"},children:/*#__PURE__*/_jsx(Content,{className:\"site-layout-background\",style:{padding:24,margin:0,height:800,overflow:\"auto\"},children:/*#__PURE__*/_jsx(Home,{resources:resources,loggedIn:loggedIn,favoriteOnChange:favoriteOnChange,favoriteItems:favoriteItems})})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Layout","message","Menu","LikeOutlined","FireOutlined","logout","getFavoriteItem","getTopGames","searchGameById","getRecommendations","PageHeader","CustomSearch","Home","jsx","_jsx","jsxs","_jsxs","Header","Content","Sider","App","loggedIn","setLoggedIn","favoriteItems","setFavoriteItems","topGames","setTopGames","resources","setResources","videos","streams","clips","then","data","catch","err","error","signinOnSuccess","signoutOnClick","success","customSearchOnSuccess","onGameSelect","_ref","key","favoriteOnChange","mapTopGamesToProps","label","icon","children","map","game","name","id","alt","src","box_art_url","replace","style","borderRadius","marginRight","width","className","onSuccess","mode","onSelect","marginTop","items","padding","margin","height","overflow"],"sources":["/Users/dangeboer/Desktop/ProjectClass/Twitch/my-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Layout, message, Menu } from \"antd\";\nimport { LikeOutlined, FireOutlined } from \"@ant-design/icons\";\nimport {\n  logout,\n  getFavoriteItem,\n  getTopGames,\n  searchGameById,\n  getRecommendations,\n} from \"./utils\";\nimport PageHeader from \"./components/PageHeader\";\nimport CustomSearch from \"./components/CustomSearch\";\nimport Home from \"./components/Home\";\n\nconst { Header, Content, Sider } = Layout;\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [favoriteItems, setFavoriteItems] = useState([]);\n  const [topGames, setTopGames] = useState([]);\n  const [resources, setResources] = useState({\n    videos: [],\n    streams: [],\n    clips: [],\n  });\n\n  useEffect(() => {\n    getTopGames()\n      .then((data) => {\n        setTopGames(data);\n      })\n      .catch((err) => {\n        message.error(err.message);\n      });\n  }, []);\n\n  const signinOnSuccess = () => {\n    setLoggedIn(true);\n    getFavoriteItem().then((data) => {\n      setFavoriteItems(data);\n    });\n  };\n\n  const signoutOnClick = () => {\n    logout()\n      .then(() => {\n        setLoggedIn(false);\n        message.success(\"Successfully Signed out\");\n      })\n      .catch((err) => {\n        message.error(err.message);\n      });\n  };\n\n  const customSearchOnSuccess = (data) => {\n    setResources(data);\n  };\n\n  const onGameSelect = ({ key }) => {\n    if (key === \"recommendation\") {\n      getRecommendations().then((data) => {\n        setResources(data);\n      });\n\n      return;\n    }\n\n    searchGameById(key).then((data) => {\n      setResources(data);\n    });\n  };\n\n  const favoriteOnChange = () => {\n    getFavoriteItem()\n      .then((data) => {\n        setFavoriteItems(data);\n      })\n      .catch((err) => {\n        message.error(err.message);\n      });\n  };\n\n  const mapTopGamesToProps = (topGames) => [\n    {\n      label: \"Recommend for you!\",\n      key: \"recommendation\",\n      icon: <LikeOutlined />,\n    },\n    {\n      label: \"Popular Games\",\n      key: \"popular_games\",\n      icon: <FireOutlined />,\n      children: topGames.map((game) => ({\n        label: game.name,\n        key: game.id,\n        icon: (\n          <img\n            alt=\"placeholder\"\n            src={game.box_art_url\n              .replace(\"{height}\", \"40\")\n              .replace(\"{width}\", \"40\")}\n            style={{ borderRadius: \"50%\", marginRight: \"20px\" }}\n          />\n        ),\n      })),\n    },\n  ];\n\n  return (\n    <Layout>\n      <Header>\n        <PageHeader\n          loggedIn={loggedIn}\n          signoutOnClick={signoutOnClick}\n          signinOnSuccess={signinOnSuccess}\n          favoriteItems={favoriteItems}\n        />\n      </Header>\n      <Layout>\n        <Sider width={300} className=\"site-layout-background\">\n          <CustomSearch onSuccess={customSearchOnSuccess} />\n          <Menu\n            mode=\"inline\"\n            onSelect={onGameSelect}\n            style={{ marginTop: \"10px\" }}\n            items={mapTopGamesToProps(topGames)}\n          />\n        </Sider>\n        <Layout style={{ padding: \"24px\" }}>\n          <Content\n            className=\"site-layout-background\"\n            style={{\n              padding: 24,\n              margin: 0,\n              height: 800,\n              overflow: \"auto\",\n            }}\n          >\n            <Home\n              resources={resources}\n              loggedIn={loggedIn}\n              favoriteOnChange={favoriteOnChange}\n              favoriteItems={favoriteItems}\n            />\n          </Content>\n        </Layout>\n      </Layout>\n    </Layout>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}